/* Sidebar */
.chat-sidebar { width:260px; flex-shrink:0; border-right:1px solid var(--color-border); background: var(--color-surface); display:flex; flex-direction:column; position:fixed; top:0; bottom:0; left:-270px; z-index:40; transition: transform var(--transition-fast); padding-top:52px; backdrop-filter: blur(10px); }
.chat-sidebar.open { transform: translateX(270px); }
@media (min-width:960px) { .chat-sidebar { position:static; transform:none; left:0; padding-top:0; } }
.sidebar-header { display:flex; align-items:center; justify-content:space-between; padding: var(--space-4); border-bottom:1px solid var(--color-border); gap:8px; backdrop-filter: saturate(120%); }
.sidebar-header h2 { margin:0; font-size:0.95rem; font-weight: var(--font-weight-semibold); letter-spacing: 0.02em; }
.small-btn { font: inherit; background: var(--color-bg-alt); color: var(--color-text); border:1px solid var(--color-border); border-radius:10px; padding:8px 12px; cursor:pointer; display:inline-flex; align-items:center; gap:8px; font-size:0.72rem; font-weight:600; letter-spacing:0.06em; text-transform:uppercase; transition: background var(--transition-fast), transform var(--transition-fast); }
.small-btn:hover { background: var(--color-surface); transform: translateY(-1px); }
.chat-list { display:flex; flex-direction:column; gap:8px; padding: var(--space-4); overflow-y:auto; }
.chat-list-item { text-align:left; background: linear-gradient(180deg, var(--color-bg-alt), rgba(0,0,0,0)); border:1px solid var(--color-border); padding: 10px 12px; border-radius:12px; cursor:pointer; display:flex; flex-direction:column; gap:4px; font: inherit; position:relative; transition: background var(--transition-fast), border-color var(--transition-fast), transform var(--transition-fast), box-shadow var(--transition-fast); }
.chat-list-item.active { border-color: var(--color-accent, var(--color-primary)); box-shadow:0 0 0 1px var(--color-accent, var(--color-primary)); }
.chat-list-item:hover { background: var(--color-surface); transform: translateY(-1px); box-shadow: var(--shadow-sm); }
.chat-list-item .title-line { font-size: 0.86rem; font-weight: var(--font-weight-medium); line-height:1.35; letter-spacing: 0.01em; }
.chat-list-item .meta-line { font-size:0.65rem; color: var(--color-text-muted); }
.empty-hint { margin: var(--space-4); font-size: var(--text-sm); color: var(--color-text-muted); }
/* Sidebar backdrop */
.sidebar-backdrop { position:fixed; inset:0; background: rgba(0,0,0,0.35); border:none; padding:0; margin:0; cursor:pointer; z-index:35; }
@media (min-width:960px) { .sidebar-backdrop { display:none; } }

/* Footer with profile button */
.sidebar-footer { margin-top:auto; padding: var(--space-4); border-top:1px solid var(--color-border); display:flex; }
.profile-btn { width:100%; display:flex; align-items:center; gap:10px; padding:10px 12px; border-radius:12px; background: var(--color-bg-alt); border:1px solid var(--color-border); color: var(--color-text); cursor:pointer; transition: background var(--transition-fast), transform var(--transition-fast), box-shadow var(--transition-fast); text-align:left; }
.profile-btn:hover { background: var(--color-surface); transform: translateY(-1px); box-shadow: var(--shadow-sm); }
.profile-btn .avatar { display:inline-flex; width:28px; height:28px; align-items:center; justify-content:center; border-radius:50%; background: var(--color-surface); border:1px solid var(--color-border); }
.profile-btn .label { font-size:0.85rem; font-weight: var(--font-weight-medium); }

/* Modal overlay and content */
.modal-overlay { position: fixed; inset: 0; background: rgba(0,0,0,0.45); display:flex; align-items:center; justify-content:center; z-index: 60; animation: fadeIn var(--transition-fast); }
.modal-content { width: min(520px, 92vw); background: var(--color-surface); border: 1px solid var(--color-border); border-radius: 14px; box-shadow: var(--shadow-sm); transform: translateY(6px) scale(0.98); animation: popIn var(--transition-fast) forwards; }
.modal-header { display:flex; align-items:center; justify-content:space-between; padding: 14px 16px; border-bottom:1px solid var(--color-border); }
.modal-title { margin:0; font-size:1rem; font-weight: var(--font-weight-semibold); }
.modal-close { background:none; border:1px solid var(--color-border); border-radius:8px; padding:6px 10px; cursor:pointer; color: var(--color-text); }
.modal-body { padding: 14px 16px; display:grid; gap:12px; }
.field { display:grid; gap:6px; }
.field label { font-size:0.8rem; color: var(--color-text-muted); }
.field input { background: var(--color-bg); border:1px solid var(--color-border); border-radius:10px; padding:10px 12px; color: var(--color-text); font: inherit; }
.modal-actions { display:flex; justify-content:flex-end; gap:10px; padding: 12px 16px; border-top:1px solid var(--color-border); }
.btn { font: inherit; border-radius:10px; padding:10px 14px; cursor:pointer; border:1px solid var(--color-border); background: var(--color-bg-alt); color: var(--color-text); }
.btn.primary { background: var(--color-primary); border-color: var(--color-primary); color: #fff; }

@keyframes fadeIn { from { opacity: 0 } to { opacity: 1 } }
@keyframes popIn { to { transform: translateY(0) scale(1) } }

@media (max-width: 959px) {
  .chat-sidebar { width: 86vw; }
  .chat-sidebar.open { transform: translateX(calc(86vw + 10px)); }
  .profile-btn .label { font-size: 0.82rem; }
}
